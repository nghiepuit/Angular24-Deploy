<div class="title-wrapper">
    <h2 class="sub-header font-condensed">Add User</h2>
</div>
<div class="row">
    <div class="col-xs-12">
        <div class="row">
            <div class="col-xs-12">
                <div class="maintenance-period">
                    <form class="form-horizontal" novalidate #addEditForm="ngForm" (ngSubmit)="onSubmit(addEditForm.valid)" *ngIf="user">
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">Full Name</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #fullname="ngModel" [(ngModel)]="user.FullName" required minlength="3" type="text" name="fullname" class="form-control">
                                        <small [class.hidden]="fullname.valid || (fullname.pristine && !addEditForm.submitted)" class="label label-danger">Full Name min length is 3 character !</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 col-md-offset-2 control-label">Email</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #email="ngModel" [(ngModel)]="user.Email" required type="text" name="email" class="form-control" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
                                        <span [class.hidden]="email.valid || (email.pristine && !addEditForm.submitted)" class="label label-danger">Email is wrong !</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">Username</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #username="ngModel" [(ngModel)]="user.UserName" required minlength="3" type="text" name="username" type="text" class="form-control">
                                        <span [class.hidden]="username.valid || (username.pristine && !addEditForm.submitted)" class="label label-danger">Username min length is 3 character !</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 col-md-offset-2 control-label">Address</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #address="ngModel" [(ngModel)]="user.Address" required minlength="3" type="text" name="address" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6" *ngIf="!user.Id">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">Password</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #password="ngModel" [(ngModel)]="user.Password" required minlength="6" type="password" name="password" class="form-control">
                                        <span [class.hidden]="password.valid || (password.pristine && !addEditForm.submitted)" class="label label-danger">Password min length is 6 character !</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label" [ngClass]="{ 'col-md-offset-2' : !user.Id }">Phone</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input #phone="ngModel" [(ngModel)]="user.PhoneNumber" required type="text" name="phone" class="form-control">
                                        <span [class.hidden]="phone.valid || (phone.pristine && !addEditForm.submitted)" class="label label-danger">Phone number is required!</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6" *ngIf="!user.Id">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">Confirm Password</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input validateEqual="repassword" #repassword="ngModel" [(ngModel)]="user.ConfirmPassword" required minlength="6" type="password" name="repassword" class="form-control">
                                        <span [class.hidden]="repassword.valid || (repassword.pristine && !addEditForm.submitted)" class="label label-danger">Confirm Password is wrong!</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 col-md-offset-2 control-label">Birthday</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input daterangepicker [options]="dateOptions" #birthday="ngModel" [(ngModel)]="user.BirthDay" type="text" name="birthday" class="form-control" (selected)="selectedDate($event)"> {{ user.BirthDay }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">Avatar</label>
                                    <div class="col-sm-5 col-md-6">
                                        <input type="file" #avatar name="avatar" class="form-control">
                                        <span class="label label-danger">Only support *.png *.jpg *.jpeg !</span>
                                        <input type="hidden" class="form-control" [(ngModel)]="user.Avatar" name="avatarUrl">
                                        <img [src]="baseFolder + user.Avatar" width="128" *ngIf="user.Avatar">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 col-md-offset-2 control-label">Gender</label>
                                    <div class="col-sm-5 col-md-6">
                                        <label class="radio-inline">
                                            <input (change)="selectGender($event)" name="gender" type="radio" #gender="ngModel" [ngModel]="user.Gender" value="True" required [checked]="user.Gender=='True'"> Male
                                        </label>
                                        <label class="radio-inline">
                                            <input (change)="selectGender($event)" name="gender" type="radio" #gender="ngModel" [ngModel]="user.Gender" value="False" required [checked]="user.Gender=='False'"> FeMale
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label class="text-left col-sm-4 col-md-4 control-label">User Group</label>
                                    <div class="col-sm-5 col-md-6">
                                        <ss-multiselect-dropdown [ngModelOptions]="{ standalone : true }" [options]="allRoles" [(ngModel)]="myRoles"></ss-multiselect-dropdown>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <hr>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 text-center">
                                <a [routerLink]="['/main/user/index']" href="#" class="btn btn-default mr-5"><i class="mdi mdi-keyboard-backspace mr-5"></i>Back To User List</a>
                                <button href="#" class="btn btn-success" [disabled]="!addEditForm.form.valid"><i class="mdi mdi-content-save mr-5"></i>Save</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
